"use strict";var Ligature={models:{},collections:{},objects:{},views:{},singletonViews:{}};
"use strict";var LigatureUtils={eventAdder:function(t,e,r){var n=this.getNodeArray(t)||[],o=n.length;for(i=0;i<o;i++)n[i].addEventListener(e,r);return n},extendObject:function(t,e){return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},getLocation:function(t){var e=t.getBoundingClientRect();return extendObject(e,{width:e.right-e.left,height:e.bottom-e.top}),e},getNodeArray:function(t){return Array.prototype.slice.apply(document.querySelectorAll(t))}};
"use strict";Ligature.models.Base=Backbone.Model.extend({urlRoot:"/api",defaults:{},initialize:function(){}}),Ligature.models.Note=Backbone.Model.extend({urlRoot:"/api",defaults:{},initialize:function(){}}),Ligature.models.Book=Backbone.Model.extend({urlRoot:"/api",defaults:{},initialize:function(){}}),Ligature.collections.Base=Backbone.Collection.extend({url:"/api",initialize:function(){},fetch:function(e){Backbone.Collection.prototype.fetch.apply(this,_.extend(e,{processData:!0}))}}),Ligature.collections.NoteCollection=Backbone.Collection.extend({url:"/api",initialize:function(){},fetch:function(e){Backbone.Collection.prototype.fetch.apply(this,_.extend(e,{processData:!0}))}}),Ligature.collections.BookCollection=Backbone.Collection.extend({url:"/api",initialize:function(){},fetch:function(e){Backbone.Collection.prototype.fetch.apply(this,_.extend(e,{processData:!0}))}});
"use strict";Ligature.viewManager=Ligature.models.Base.extend({initialize:function(){this.attributes={notesLoaded:!1,dirtyEdits:!1,activeBook:!1,activeNote:!1,openBooks:[],editingMode:!1}},changeMode:function(e){"overview"===e||"editing"===e||console.warn(e+" isn't a valid editing mode!")}}),Ligature.views.Base=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.Header=Backbone.View.extend({tagName:"header",className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.Toolbar=Backbone.View.extend({className:"toolbar",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.BookList=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.BookListItem=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.BookDropdown=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.NoteList=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.NoteListItem=Backbone.View.extend({className:"",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.Sidebar=Backbone.View.extend({id:"sidebar",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.Editor=Backbone.View.extend({id:"editor",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.ModeButton=Backbone.View.extend({tagName:"button",id:"mode-button",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.Modal=Backbone.View.extend({id:"modal",template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}}),Ligature.views.App=Backbone.View.extend({template:"\n      <div></div>\n    ",events:{},initialize:function(e){this.render()},render:function(){return this.$el.html(this.template),this}});
"use strict";Ligature.Router=Backbone.Router.extend({});
"use strict";Ligature.init=function(){Ligature.objects.notes=new Ligature.collections.NoteCollection,Ligature.objects.books=new Ligature.collections.BookCollection,Ligature.singletonViews.app=new Ligature.views.App,Ligature.core=new Ligature.viewManager,Ligature.router=new Ligature.Router,$("#content").append(Ligature.singletonViews.app.render().$el),Ligature.objects.notes.fetch(),console.info("Ligature initialized")},Ligature.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluaXQuanMiLCJ1dGlscy5qcyIsIm1vZGVscy5qcyIsInZpZXdzLmpzIiwicm91dGVyLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJMaWdhdHVyZSIsIm1vZGVscyIsImNvbGxlY3Rpb25zIiwib2JqZWN0cyIsInZpZXdzIiwiTGlnYXR1cmVVdGlscyIsInNlbGVjdG9yIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJ0YXJnZXRzIiwidGhpcyIsImdldE5vZGVBcnJheSIsImV2ZW50QWRkZXIiLCJsZW5ndGgiLCJ0TGVuZ3RoIiwiaSIsImFkZEV2ZW50TGlzdGVuZXIiLCJleHRlbmRPYmplY3QiLCJvYmoiLCJlbCIsImZvckVhY2giLCJrZXkiLCJnZXRMb2NhdGlvbiIsImJvdW5kaW5nQ2xpZW50UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ3aWR0aCIsInJpZ2h0IiwiaWRlbnRpZmllciIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJhcHBseSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIkJhc2UiLCJCYWNrYm9uZSIsIk1vZGVsIiwiZXh0ZW5kIiwidXJsUm9vdCIsImluaXRpYWxpemUiLCJOb3RlIiwiQm9vayIsIkNvbGxlY3Rpb24iLCJ1cmwiLCJmZXRjaCIsIm9wdGlvbnMiLCJfIiwicHJvY2Vzc0RhdGEiLCJOb3RlQ29sbGVjdGlvbiIsIkJvb2tDb2xsZWN0aW9uIiwidmlld01hbmFnZXIiLCJhdHRyaWJ1dGVzIiwiZGlydHlFZGl0cyIsImFjdGl2ZU5vdGUiLCJlZGl0aW5nTW9kZSIsImNoYW5nZU1vZGUiLCJtb2RlIiwiY29uc29sZSIsIndhcm4iLCJWaWV3IiwiY2xhc3NOYW1lIiwiZXZlbnRzIiwiYXR0cnMiLCJyZW5kZXIiLCIkZWwiLCJodG1sIiwidGVtcGxhdGUiLCJIZWFkZXIiLCJ0YWdOYW1lIiwiVG9vbGJhciIsIkJvb2tMaXN0SXRlbSIsIk5vdGVMaXN0IiwiTm90ZUxpc3RJdGVtIiwiU2lkZWJhciIsImlkIiwiRWRpdG9yIiwiTW9kZUJ1dHRvbiIsIk1vZGFsIiwiQXBwIiwiUm91dGVyIiwiaW5pdCIsIm5vdGVzIiwiYm9va3MiLCJzaW5nbGV0b25WaWV3cyIsImFwcCIsImNvcmUiLCJyb3V0ZXIiLCIkIiwiYXBwZW5kIl0sIm1hcHBpbmdzIjoiWUFBQSxJQUFNQSxXQUFBQSxVQUVGQyxlQUVBQyxXQUVBQyxTQUVBQztZQ1JKLElBQU1DLGdCQUFBQSxXQUFBQSxTQUFnQkMsRUFBQUMsRUFBQUMsR0FHZCxHQUFJQyxHQUFVQyxLQUFLQyxhQUFhTCxPQURwQ00sRUFBWUgsRUFBQUksTUFDUixLQUNJQyxFQUFBQSxFQUFBQSxFQUFVTCxFQUFRSSxJQUdsQkosRUFBUU0sR0FBR0MsaUJBQWlCVCxFQUFXQyxFQUMxQyxPQUFBQyxJQUdKUSxhQVhpQixTQUFBQyxFQUFBQyxHQWlCYixNQUpMRixRQUFBQSxLQUFjRSxHQUFBQyxRQUFBLFNBQVNGLEdBR2ZBLEVBQUlHLEdBQU9GLEVBQUdFLEtBRGxCSCxHQVFKSSxZQUFhLFNBQVNILEdBRWxCLEdBQUlJLEdBQXFCSixFQUFHSyx1QkFPNUIsT0FMQVAsY0FBYU0sR0FBYk4sTUFBQUEsRUFBYU0sTUFBb0JBLEVBQUFFLEtBQzdCQyxPQUFPSCxFQUFtQkksT0FBUUosRUFBbUJFLE1BSWxERixHQUlYWixhQUFjLFNBQUFpQixHQUNWLE1BQU9DLE9BQU1DLFVBQVVDLE1BQU1DLE1BQU1DLFNBQVNDLGlCQUFpQk47WUNyQ3JFNUIsVUFBQUMsT0FBQWtDLEtBQUFDLFNBQUFDLE1BQUFDLFFBRUF0QyxRQUFTQyxPQUVMc0MsWUFFVUMsV0FKK0IsZUFBQXhDLFNBQTdDQyxPQUFBd0MsS0FBQUwsU0FBQUMsTUFBQUMsUUFjQXRDLFFBQVNDLE9BRUxzQyxZQUVVQyxXQUorQixlQUFBeEMsU0FBN0NDLE9BQUF5QyxLQUFBTixTQUFBQyxNQUFBQyxRQWNBdEMsUUFBU0MsT0FFTHNDLFlBRVVDLFdBSitCLGVBYzdDeEMsU0FBQUUsWUFBQWlDLEtBQUFDLFNBQUFPLFdB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QnJELEtBQUtzRCxVQUdUQSxPQUFRLFdBRUosTUFEQXRELE1BQUt1RCxJQUFJQyxLQUFLeEQsS0FBS3lELFVBQ1p6RDtZQzNTZlYsVUFBU2dGLE9BQVM1QyxTQUFTNEMsT0FBTzFDO1lDQWxDdEMsVUFBU2lGLEtBQU8sV0FZWmpGLFNBQVNHLFFBQVErRSxNQUFRLEdBQUlsRixVQUFTRSxZQUFZK0MsZUFEbERqRCxTQUFBRyxRQUFBZ0YsTUFBQSxHQUFBbkYsVUFBQUUsWUFBQWdELGVBS0FsRCxTQUFTb0YsZUFBZUMsSUFBTSxHQUFJckYsVUFBU0ksTUFBTTJFLElBRGpEL0UsU0FBQXNGLEtBQUEsR0FBQXRGLFVBQUFtRCxZQUtBbkQsU0FBU3VGLE9BQVMsR0FBSXZGLFVBQVNnRixPQUcvQlEsRUFBRSxZQUFZQyxPQUFPekYsU0FBU29GLGVBQWVDLElBQUlyQixTQUFTQyxLQUcxRGpFLFNBQVNHLFFBQVErRSxNQUFNckMsUUFBdkI3QyxRQUFBQSxLQUFTRyx5QkFNYkgsU0FBU2lGIiwiZmlsZSI6ImpzL21haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTGlnYXR1cmUgPSB7XG5cbiAgICBtb2RlbHM6IHt9LFxuXG4gICAgY29sbGVjdGlvbnM6IHt9LFxuXG4gICAgb2JqZWN0czoge30sXG5cbiAgICB2aWV3czoge30sXG5cbiAgICBzaW5nbGV0b25WaWV3czoge31cblxufTtcbiIsImNvbnN0IExpZ2F0dXJlVXRpbHMgPSB7XG5cbiAgICBldmVudEFkZGVyOiBmdW5jdGlvbihzZWxlY3RvciwgZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdGFyZ2V0cyA9IHRoaXMuZ2V0Tm9kZUFycmF5KHNlbGVjdG9yKSB8fCBbXSxcbiAgICAgICAgICAgIHRMZW5ndGggPSB0YXJnZXRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0YXJnZXRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0cztcbiAgICB9LFxuXG4gICAgZXh0ZW5kT2JqZWN0OiBmdW5jdGlvbihvYmosIGVsKSB7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoZWwpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsW2tleV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG5cbiAgICB9LFxuXG4gICAgZ2V0TG9jYXRpb246IGZ1bmN0aW9uKGVsKSB7XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGV4dGVuZE9iamVjdChib3VuZGluZ0NsaWVudFJlY3QsIHtcbiAgICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3QucmlnaHQgLSBib3VuZGluZ0NsaWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmJvdHRvbSAtIGJvdW5kaW5nQ2xpZW50UmVjdC50b3BcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kaW5nQ2xpZW50UmVjdDtcblxuICAgIH0sXG5cbiAgICBnZXROb2RlQXJyYXk6IGZ1bmN0aW9uKGlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGlkZW50aWZpZXIpKTtcbiAgICB9XG5cbn07XG4iLCIvKiBNT0RFTFMgKi9cblxuTGlnYXR1cmUubW9kZWxzLkJhc2UgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuXG4gICAgdXJsUm9vdDogJy9hcGknLFxuXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLy8gZGVmYXVsdHNcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgfSxcblxufSk7XG5cbkxpZ2F0dXJlLm1vZGVscy5Ob3RlID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcblxuICAgIHVybFJvb3Q6ICcvYXBpJyxcblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgfSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBkZWZhdWx0c1xuICAgIH0sXG5cbn0pO1xuXG5MaWdhdHVyZS5tb2RlbHMuQm9vayA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG5cbiAgICB1cmxSb290OiAnL2FwaScsXG5cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvLyBkZWZhdWx0c1xuICAgIH0sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gZGVmYXVsdHNcbiAgICB9LFxuXG59KTtcblxuLyogQ09MTEVDVElPTlMgKi9cblxuTGlnYXR1cmUuY29sbGVjdGlvbnMuQmFzZSA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcblxuICAgIHVybDogJy9hcGknLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgfSxcblxuICAgIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIEJhY2tib25lLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZldGNoLmFwcGx5KHRoaXMsIF8uZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS5jb2xsZWN0aW9ucy5Ob3RlQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcblxuICAgIHVybDogJy9hcGknLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgfSxcblxuICAgIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIEJhY2tib25lLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZldGNoLmFwcGx5KHRoaXMsIF8uZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS5jb2xsZWN0aW9ucy5Cb29rQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcblxuICAgIHVybDogJy9hcGknLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRlZmF1bHRzXG4gICAgfSxcblxuICAgIGZldGNoOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIEJhY2tib25lLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZldGNoLmFwcGx5KHRoaXMsIF8uZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbn0pO1xuIiwiLyogVklFVyBNQU5BR0VSICovXG5cbkxpZ2F0dXJlLnZpZXdNYW5hZ2VyID0gTGlnYXR1cmUubW9kZWxzLkJhc2UuZXh0ZW5kKHtcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBub3Rlc0xvYWRlZDogZmFsc2UsXG4gICAgICAgICAgICBkaXJ0eUVkaXRzOiBmYWxzZSxcblxuICAgICAgICAgICAgYWN0aXZlQm9vazogZmFsc2UsXG4gICAgICAgICAgICBhY3RpdmVOb3RlOiBmYWxzZSxcblxuICAgICAgICAgICAgb3BlbkJvb2tzOiBbXSxcbiAgICAgICAgICAgIGVkaXRpbmdNb2RlOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBjaGFuZ2VNb2RlOiBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIGlmIChtb2RlID09PSAnb3ZlcnZpZXcnKSB7XG4gICAgICAgICAgICAvLyBkbyB0aGluZ3NcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnZWRpdGluZycpIHtcbiAgICAgICAgICAgIC8vIGRvIHRoaW5nc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke21vZGV9IGlzbid0IGEgdmFsaWQgZWRpdGluZyBtb2RlIWApO1xuICAgICAgICB9XG4gICAgfVxuXG59KTtcblxuLyogVklFV1MgKi9cblxuTGlnYXR1cmUudmlld3MuQmFzZSA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAgIGNsYXNzTmFtZTogJycsXG5cbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdj48L2Rpdj5cbiAgICBgLFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufSk7XG5cbkxpZ2F0dXJlLnZpZXdzLkhlYWRlciA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAgIHRhZ05hbWU6ICdoZWFkZXInLFxuICAgIGNsYXNzTmFtZTogJycsXG5cbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdj48L2Rpdj5cbiAgICBgLFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufSk7XG5cbkxpZ2F0dXJlLnZpZXdzLlRvb2xiYXIgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBjbGFzc05hbWU6ICd0b29sYmFyJyxcblxuICAgIHRlbXBsYXRlOiBgXG4gICAgICA8ZGl2PjwvZGl2PlxuICAgIGAsXG5cbiAgICBldmVudHM6IHt9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXR0cnMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59KTtcblxuTGlnYXR1cmUudmlld3MuQm9va0xpc3QgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBjbGFzc05hbWU6ICcnLFxuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgYCxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS52aWV3cy5Cb29rTGlzdEl0ZW0gPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBjbGFzc05hbWU6ICcnLFxuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgYCxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS52aWV3cy5Cb29rRHJvcGRvd24gPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBjbGFzc05hbWU6ICcnLFxuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgYCxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS52aWV3cy5Ob3RlTGlzdCA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAgIGNsYXNzTmFtZTogJycsXG5cbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdj48L2Rpdj5cbiAgICBgLFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufSk7XG5cbkxpZ2F0dXJlLnZpZXdzLk5vdGVMaXN0SXRlbSA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblxuICAgIGNsYXNzTmFtZTogJycsXG5cbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdj48L2Rpdj5cbiAgICBgLFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufSk7XG5cbkxpZ2F0dXJlLnZpZXdzLlNpZGViYXIgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBpZDogJ3NpZGViYXInLFxuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgYCxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pO1xuXG5MaWdhdHVyZS52aWV3cy5FZGl0b3IgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBpZDogJ2VkaXRvcicsXG5cbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdj48L2Rpdj5cbiAgICBgLFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufSk7XG5cbkxpZ2F0dXJlLnZpZXdzLk1vZGVCdXR0b24gPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICB0YWdOYW1lOiAnYnV0dG9uJyxcbiAgICBpZDogJ21vZGUtYnV0dG9uJyxcblxuICAgIHRlbXBsYXRlOiBgXG4gICAgICA8ZGl2PjwvZGl2PlxuICAgIGAsXG5cbiAgICBldmVudHM6IHt9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXR0cnMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59KTtcblxuTGlnYXR1cmUudmlld3MuTW9kYWwgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICBpZDogJ21vZGFsJyxcblxuICAgIHRlbXBsYXRlOiBgXG4gICAgICA8ZGl2PjwvZGl2PlxuICAgIGAsXG5cbiAgICBldmVudHM6IHt9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oYXR0cnMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59KTtcblxuTGlnYXR1cmUudmlld3MuQXBwID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgYCxcblxuICAgIGV2ZW50czoge30sXG5cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihhdHRycykge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0sXG5cbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn0pO1xuIiwiTGlnYXR1cmUuUm91dGVyID0gQmFja2JvbmUuUm91dGVyLmV4dGVuZCh7XG4gICAgLy8gcHJvYmFibHkgd2lsbCBjb21tdW5pY2F0ZSBhIGxvdCB3aXRoIExpZ2F0dXJlLmNvcmVcbn0pO1xuIiwiTGlnYXR1cmUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gc2VydmljZVdvcmtlciBjaGVjayAtLSBkaXNhYmxlZCBmb3Igbm93XG4gICAgLy8gaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAvLyAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3N3LmpzJykudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCcpO1xuICAgIC8vICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQnLCBlcnIpO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICAvLyBpbnN0YW50aWF0ZSBjb2xsZWN0aW9uc1xuICAgIExpZ2F0dXJlLm9iamVjdHMubm90ZXMgPSBuZXcgTGlnYXR1cmUuY29sbGVjdGlvbnMuTm90ZUNvbGxlY3Rpb24oKTtcbiAgICBMaWdhdHVyZS5vYmplY3RzLmJvb2tzID0gbmV3IExpZ2F0dXJlLmNvbGxlY3Rpb25zLkJvb2tDb2xsZWN0aW9uKCk7XG5cbiAgICAvLyBpbnN0YW50aWF0ZSB2aWV3c1xuICAgIExpZ2F0dXJlLnNpbmdsZXRvblZpZXdzLmFwcCA9IG5ldyBMaWdhdHVyZS52aWV3cy5BcHAoKTtcbiAgICBMaWdhdHVyZS5jb3JlID0gbmV3IExpZ2F0dXJlLnZpZXdNYW5hZ2VyKCk7XG5cbiAgICAvLyByb3V0ZXJcbiAgICBMaWdhdHVyZS5yb3V0ZXIgPSBuZXcgTGlnYXR1cmUuUm91dGVyKCk7XG5cbiAgICAvLyBhdHRhY2ggdmlld3NcbiAgICAkKFwiI2NvbnRlbnRcIikuYXBwZW5kKExpZ2F0dXJlLnNpbmdsZXRvblZpZXdzLmFwcC5yZW5kZXIoKS4kZWwpO1xuXG4gICAgLy8gbG9hZCBxdWVzdGlvbnMgYW5kIGNob2ljZXNcbiAgICBMaWdhdHVyZS5vYmplY3RzLm5vdGVzLmZldGNoKCk7XG5cbiAgICBjb25zb2xlLmluZm8oJ0xpZ2F0dXJlIGluaXRpYWxpemVkJyk7XG5cbn07XG5cbkxpZ2F0dXJlLmluaXQoKTtcbiJdfQ==
